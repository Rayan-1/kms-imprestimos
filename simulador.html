<!DOCTYPE html>
<html lang="pt-br">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Simulação | Empréstimo com Garantia</title>
  <link rel="stylesheet" href="simulador.css">
  <link rel="icon" type="image/png" sizes="256x256" href="kms.png">
</head>
<body>
  <div class="simulador-main">
    <div class="simulador-img"></div>
    <div class="simulador-form">
      <div class="step active" id="step-email">
        <h2>Qual seu e-mail?</h2>
        <div style="width:100%;display:flex;align-items:center;gap:10px;margin-bottom:12px;">
          <input type="email" id="input-email" placeholder="Digite seu e-mail" required style="flex:1;">
        </div>
        <div id="email-error" style="color:#d32f2f; font-size:1rem; min-height:22px; margin-bottom:12px;"></div>
        <button class="btn-primary" id="btn-email">Continuar</button>
      </div>
    </div>
  </div>
  <script>
  document.getElementById('btn-email').addEventListener('click', function (e) {
    e.preventDefault();
    const email = document.getElementById('input-email').value.trim();
    const errorDiv = document.getElementById('email-error');
    // Regex corrigido: exige @ e termina com gmail.com ou hotmail.com
    const emailRegex = /^[^\s@]+@[^\s@]+\.(gmail\.com|hotmail\.com)$/i;
    if (
      emailRegex.test(email) ||
      /^[^\s@]+@gmail\.com$/i.test(email) ||
      /^[^\s@]+@hotmail\.com$/i.test(email)
    ) {
      localStorage.setItem('emailEmprestimo', email);
      window.location.href = 'cpf.html';
    } else {
      errorDiv.textContent = 'Por favor,informe um e-mail válido!';
      document.getElementById('input-email').focus();
    }
  });

  // Limpa erro ao digitar
  document.getElementById('input-email').addEventListener('input', function () {
    document.getElementById('email-error').textContent = '';
  });
</script>
</body>
</html>
